{"version":3,"sources":["../../../src/environment/getInstallationIdAsync.ts"],"sourcesContent":["import * as Application from 'expo-application';\nimport uuidv5 from 'uuid/v5';\n\nlet installationId: string | null;\nconst UUID_NAMESPACE = '29cc8a0d-747c-5f85-9ff9-f2f16636d963'; // uuidv5(0, \"expo\")\n\nexport default async function getInstallationIdAsync() {\n  if (installationId) {\n    return installationId;\n  }\n\n  const identifierForVendor = await Application.getIosIdForVendorAsync();\n  const bundleIdentifier = Application.applicationId!;\n\n  // It's unlikely identifierForVendor will be null (it returns null if the\n  // device has been restarted but not yet unlocked), but let's handle this\n  // case.\n  if (identifierForVendor) {\n    installationId = uuidv5(`${bundleIdentifier}-${identifierForVendor}`, UUID_NAMESPACE);\n  } else {\n    const installationTime = await Application.getInstallationTimeAsync();\n    installationId = uuidv5(`${bundleIdentifier}-${installationTime.getTime()}`, UUID_NAMESPACE);\n  }\n\n  return installationId;\n}\n"],"names":["Application","uuidv5","installationId","UUID_NAMESPACE","getInstallationIdAsync","identifierForVendor","getIosIdForVendorAsync","bundleIdentifier","applicationId","installationTime","getInstallationTimeAsync","getTime"],"mappings":"AAAA,MAAM,MAAMA,WAAW,MAAM,CAAkB;AAC/C,MAAM,CAACC,MAAM,MAAM,CAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAE5B,GAAG,CAACC,cAAc;AAClB,KAAK,CAACC,cAAc,GAAG,CAAsC,sCAAE,CAAoB,AAApB,EAAoB,AAApB,kBAAoB;AAEnF,MAAM,kBAAwBC,sBAAsB;WAAtBA,uBAAsB;;SAAtBA,uBAAsB;IAAtBA,uBAAsB,qBAArC,QAAQ,IAAgC,CAAC;QACtD,EAAE,EAAEF,cAAc,EAAE,CAAC;YACnB,MAAM,CAACA,cAAc;QACvB,CAAC;QAED,KAAK,CAACG,mBAAmB,SAASL,WAAW,CAACM,sBAAsB;QACpE,KAAK,CAACC,gBAAgB,GAAGP,WAAW,CAACQ,aAAa;QAElD,EAAyE,AAAzE,uEAAyE;QACzE,EAAyE,AAAzE,uEAAyE;QACzE,EAAQ,AAAR,MAAQ;QACR,EAAE,EAAEH,mBAAmB,EAAE,CAAC;YACxBH,cAAc,GAAGD,MAAM,IAAIM,gBAAgB,CAAC,CAAC,EAAEF,mBAAmB,IAAIF,cAAc;QACtF,CAAC,MAAM,CAAC;YACN,KAAK,CAACM,gBAAgB,SAAST,WAAW,CAACU,wBAAwB;YACnER,cAAc,GAAGD,MAAM,IAAIM,gBAAgB,CAAC,CAAC,EAAEE,gBAAgB,CAACE,OAAO,MAAMR,cAAc;QAC7F,CAAC;QAED,MAAM,CAACD,cAAc;IACvB,CAAC;WAnB6BE,uBAAsB"}