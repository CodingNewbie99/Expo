{"version":3,"file":"Settings.js","names":["_androidPlugins","data","require","_warnings","withGradlePlugins","config","withSettingsGradle","modResults","language","contents","setReactNativeSettingsPlugin","addWarningAndroid","exports","getReactNativeVersionFromPackageJson","version","getReactNativeMinorVersion","coreVersion","split","Number","buildSettings","pattern","RegExp","replace"],"sources":["../../src/android/Settings.ts"],"sourcesContent":["import { ConfigPlugin } from '../Plugin.types';\nimport { withSettingsGradle } from '../plugins/android-plugins';\nimport { addWarningAndroid } from '../utils/warnings';\n\nexport const withGradlePlugins: ConfigPlugin = (config) => {\n  return withSettingsGradle(config, (config) => {\n    if (config.modResults.language === 'groovy') {\n      config.modResults.contents = setReactNativeSettingsPlugin(config.modResults.contents);\n    } else {\n      addWarningAndroid(\n        'withGradlePlugins',\n        `Cannot automatically configure app setting.gradle if it's not groovy`\n      );\n    }\n    return config;\n  });\n};\n\nconst getReactNativeVersionFromPackageJson = () => {\n  return require('react-native/package.json').version;\n};\n\nexport const getReactNativeMinorVersion = (version: string) => {\n  const coreVersion = version.split('-')[0];\n\n  return Number(coreVersion.split('.')[1]);\n};\n\nexport function setReactNativeSettingsPlugin(buildSettings: string) {\n  const pattern = new RegExp(`plugins { }`);\n\n  const version = getReactNativeVersionFromPackageJson();\n\n  if (getReactNativeMinorVersion(version) >= 75) {\n    return buildSettings.replace(pattern, `plugins { id(\"com.facebook.react.settings\") }`);\n  }\n\n  return buildSettings;\n}\n"],"mappings":";;;;;;;;AACA,SAAAA,gBAAA;EAAA,MAAAC,IAAA,GAAAC,OAAA;EAAAF,eAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAE,UAAA;EAAA,MAAAF,IAAA,GAAAC,OAAA;EAAAC,SAAA,YAAAA,CAAA;IAAA,OAAAF,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAEO,MAAMG,iBAA+B,GAAIC,MAAM,IAAK;EACzD,OAAO,IAAAC,oCAAkB,EAACD,MAAM,EAAGA,MAAM,IAAK;IAC5C,IAAIA,MAAM,CAACE,UAAU,CAACC,QAAQ,KAAK,QAAQ,EAAE;MAC3CH,MAAM,CAACE,UAAU,CAACE,QAAQ,GAAGC,4BAA4B,CAACL,MAAM,CAACE,UAAU,CAACE,QAAQ,CAAC;IACvF,CAAC,MAAM;MACL,IAAAE,6BAAiB,EACf,mBAAmB,EACnB,sEACF,CAAC;IACH;IACA,OAAON,MAAM;EACf,CAAC,CAAC;AACJ,CAAC;AAACO,OAAA,CAAAR,iBAAA,GAAAA,iBAAA;AAEF,MAAMS,oCAAoC,GAAGA,CAAA,KAAM;EACjD,OAAOX,OAAO,CAAC,2BAA2B,CAAC,CAACY,OAAO;AACrD,CAAC;AAEM,MAAMC,0BAA0B,GAAID,OAAe,IAAK;EAC7D,MAAME,WAAW,GAAGF,OAAO,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAEzC,OAAOC,MAAM,CAACF,WAAW,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1C,CAAC;AAACL,OAAA,CAAAG,0BAAA,GAAAA,0BAAA;AAEK,SAASL,4BAA4BA,CAACS,aAAqB,EAAE;EAClE,MAAMC,OAAO,GAAG,IAAIC,MAAM,CAAC,aAAa,CAAC;EAEzC,MAAMP,OAAO,GAAGD,oCAAoC,CAAC,CAAC;EAEtD,IAAIE,0BAA0B,CAACD,OAAO,CAAC,IAAI,EAAE,EAAE;IAC7C,OAAOK,aAAa,CAACG,OAAO,CAACF,OAAO,EAAE,+CAA+C,CAAC;EACxF;EAEA,OAAOD,aAAa;AACtB","ignoreList":[]}