{"version":3,"file":"Paths.js","names":["_fs","data","require","_glob","path","_interopRequireWildcard","Entitlements","_errors","_glob2","_warnings","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","ignoredPaths","getAppDelegateHeaderFilePath","applePlatform","projectRoot","applePlatformDir","using","extra","withSortedGlobResult","globSync","absolute","cwd","ignore","UnexpectedError","length","warnMultipleFiles","tag","fileName","exports","getAppDelegateFilePath","getAppDelegateObjcHeaderFilePath","getPodfilePath","getLanguage","filePath","extension","extname","basename","getFileInfo","normalize","contents","readFileSync","language","getAppDelegate","getSourceRoot","appDelegate","dirname","findSchemePaths","findSchemeNames","schemePaths","map","schemePath","parse","name","getAllXcodeProjectPaths","pbxprojPaths","replace","filter","project","test","sort","b","isAInApplePlatformDir","isBInApplePlatformDir","value","join","getXcodeProjectPath","getAllPBXProjectPaths","projectPaths","paths","existsSync","getPBXProjectPath","getAllInfoPlistPaths","getInfoPlistPath","getAllEntitlementsPaths","getEntitlementsPath","getSupportingPath","resolve","getExpoPlistPath","supportingPath","usingPath","relative","extraPaths","v","addWarningForPlatform","JSON","stringify"],"sources":["../../src/apple/Paths.ts"],"sourcesContent":["import { existsSync, readFileSync } from 'fs';\nimport { globSync } from 'glob';\nimport * as path from 'path';\n\nimport * as Entitlements from './Entitlements';\nimport { UnexpectedError } from '../utils/errors';\nimport { withSortedGlobResult } from '../utils/glob';\nimport { addWarningForPlatform } from '../utils/warnings';\n\nconst ignoredPaths = ['**/@(Carthage|Pods|vendor|node_modules)/**'];\n\ninterface ProjectFile<L extends string = string> {\n  path: string;\n  language: L;\n  contents: string;\n}\n\ntype AppleLanguage = 'objc' | 'objcpp' | 'swift' | 'rb';\n\nexport type PodfileProjectFile = ProjectFile<'rb'>;\nexport type AppDelegateProjectFile = ProjectFile<AppleLanguage>;\n\nexport const getAppDelegateHeaderFilePath =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string => {\n    const applePlatformDir = applePlatform;\n    const [using, ...extra] = withSortedGlobResult(\n      globSync(`${applePlatformDir}/*/AppDelegate.h`, {\n        absolute: true,\n        cwd: projectRoot,\n        ignore: ignoredPaths,\n      })\n    );\n\n    if (!using) {\n      throw new UnexpectedError(\n        `Could not locate a valid AppDelegate header at root: \"${projectRoot}\"`\n      );\n    }\n\n    if (extra.length) {\n      warnMultipleFiles({\n        applePlatform,\n        tag: 'app-delegate-header',\n        fileName: 'AppDelegate',\n        projectRoot,\n        using,\n        extra,\n      });\n    }\n\n    return using;\n  };\n\nexport const getAppDelegateFilePath =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string => {\n    const applePlatformDir = applePlatform;\n    const [using, ...extra] = withSortedGlobResult(\n      globSync(`${applePlatformDir}/*/AppDelegate.@(m|mm|swift)`, {\n        absolute: true,\n        cwd: projectRoot,\n        ignore: ignoredPaths,\n      })\n    );\n\n    if (!using) {\n      throw new UnexpectedError(`Could not locate a valid AppDelegate at root: \"${projectRoot}\"`);\n    }\n\n    if (extra.length) {\n      warnMultipleFiles({\n        applePlatform,\n        tag: 'app-delegate',\n        fileName: 'AppDelegate',\n        projectRoot,\n        using,\n        extra,\n      });\n    }\n\n    return using;\n  };\n\nexport const getAppDelegateObjcHeaderFilePath =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string => {\n    const applePlatformDir = applePlatform;\n    const [using, ...extra] = withSortedGlobResult(\n      globSync(`${applePlatformDir}/*/AppDelegate.h`, {\n        absolute: true,\n        cwd: projectRoot,\n        ignore: ignoredPaths,\n      })\n    );\n\n    if (!using) {\n      throw new UnexpectedError(`Could not locate a valid AppDelegate.h at root: \"${projectRoot}\"`);\n    }\n\n    if (extra.length) {\n      warnMultipleFiles({\n        applePlatform,\n        tag: 'app-delegate-objc-header',\n        fileName: 'AppDelegate.h',\n        projectRoot,\n        using,\n        extra,\n      });\n    }\n\n    return using;\n  };\n\nexport const getPodfilePath =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string => {\n    const applePlatformDir = applePlatform;\n    const [using, ...extra] = withSortedGlobResult(\n      globSync(`${applePlatformDir}/Podfile`, {\n        absolute: true,\n        cwd: projectRoot,\n        ignore: ignoredPaths,\n      })\n    );\n\n    if (!using) {\n      throw new UnexpectedError(`Could not locate a valid Podfile at root: \"${projectRoot}\"`);\n    }\n\n    if (extra.length) {\n      warnMultipleFiles({\n        applePlatform,\n        tag: 'podfile',\n        fileName: 'Podfile',\n        projectRoot,\n        using,\n        extra,\n      });\n    }\n\n    return using;\n  };\n\nfunction getLanguage(filePath: string): AppleLanguage {\n  const extension = path.extname(filePath);\n  if (!extension && path.basename(filePath) === 'Podfile') {\n    return 'rb';\n  }\n  switch (extension) {\n    case '.mm':\n      return 'objcpp';\n    case '.m':\n    case '.h':\n      return 'objc';\n    case '.swift':\n      return 'swift';\n    default:\n      throw new UnexpectedError(`Unexpected Apple file extension: ${extension}`);\n  }\n}\n\nexport function getFileInfo(filePath: string) {\n  return {\n    path: path.normalize(filePath),\n    contents: readFileSync(filePath, 'utf8'),\n    language: getLanguage(filePath),\n  };\n}\n\nexport const getAppDelegate =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): AppDelegateProjectFile => {\n    const filePath = getAppDelegateFilePath(applePlatform)(projectRoot);\n    return getFileInfo(filePath);\n  };\n\nexport const getSourceRoot =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string => {\n    const appDelegate = getAppDelegate(applePlatform)(projectRoot);\n    return path.dirname(appDelegate.path);\n  };\n\nexport const findSchemePaths =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string[] => {\n    const applePlatformDir = applePlatform;\n    return withSortedGlobResult(\n      globSync(`${applePlatformDir}/*.xcodeproj/xcshareddata/xcschemes/*.xcscheme`, {\n        absolute: true,\n        cwd: projectRoot,\n        ignore: ignoredPaths,\n      })\n    );\n  };\n\nexport const findSchemeNames =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string[] => {\n    const schemePaths = findSchemePaths(applePlatform)(projectRoot);\n    return schemePaths.map((schemePath) => path.parse(schemePath).name);\n  };\n\nexport const getAllXcodeProjectPaths =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string[] => {\n    const applePlatformDir = applePlatform;\n    const pbxprojPaths = withSortedGlobResult(\n      globSync(`${applePlatformDir}/**/*.xcodeproj`, { cwd: projectRoot, ignore: ignoredPaths })\n        // Drop leading `/` from glob results to mimick glob@<9 behavior\n        .map((filePath) => filePath.replace(/^\\//, ''))\n        .filter(\n          (project) =>\n            !/test|example|sample/i.test(project) || path.dirname(project) === applePlatformDir\n        )\n    ).sort((a, b) => {\n      const isAInApplePlatformDir = path.dirname(a) === applePlatformDir;\n      const isBInApplePlatformDir = path.dirname(b) === applePlatformDir;\n      // preserve previous sort order\n      if (\n        (isAInApplePlatformDir && isBInApplePlatformDir) ||\n        (!isAInApplePlatformDir && !isBInApplePlatformDir)\n      ) {\n        return 0;\n      }\n      return isAInApplePlatformDir ? -1 : 1;\n    });\n\n    if (!pbxprojPaths.length) {\n      throw new UnexpectedError(\n        `Failed to locate the ${applePlatformDir}/*.xcodeproj files relative to path \"${projectRoot}\".`\n      );\n    }\n    return pbxprojPaths.map((value) => path.join(projectRoot, value));\n  };\n\n/**\n * Get the pbxproj for the given path\n */\nexport const getXcodeProjectPath =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string => {\n    const [using, ...extra] = getAllXcodeProjectPaths(applePlatform)(projectRoot);\n\n    if (extra.length) {\n      warnMultipleFiles({\n        applePlatform,\n        tag: 'xcodeproj',\n        fileName: '*.xcodeproj',\n        projectRoot,\n        using,\n        extra,\n      });\n    }\n\n    return using;\n  };\n\nexport const getAllPBXProjectPaths =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string[] => {\n    const applePlatformDir = applePlatform;\n    const projectPaths = getAllXcodeProjectPaths(applePlatform)(projectRoot);\n    const paths = projectPaths\n      .map((value) => path.join(value, 'project.pbxproj'))\n      .filter((value) => existsSync(value));\n\n    if (!paths.length) {\n      throw new UnexpectedError(\n        `Failed to locate the ${applePlatformDir}/*.xcodeproj/project.pbxproj files relative to path \"${projectRoot}\".`\n      );\n    }\n    return paths;\n  };\n\nexport const getPBXProjectPath =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string => {\n    const [using, ...extra] = getAllPBXProjectPaths(applePlatform)(projectRoot);\n\n    if (extra.length) {\n      warnMultipleFiles({\n        applePlatform,\n        tag: 'project-pbxproj',\n        fileName: 'project.pbxproj',\n        projectRoot,\n        using,\n        extra,\n      });\n    }\n\n    return using;\n  };\n\nexport const getAllInfoPlistPaths =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string[] => {\n    const applePlatformDir = applePlatform;\n    const paths = globSync(`${applePlatformDir}/*/Info.plist`, {\n      absolute: true,\n      cwd: projectRoot,\n      ignore: ignoredPaths,\n    }).sort(\n      // longer name means more suffixes, we want the shortest possible one to be first.\n      (a, b) => a.length - b.length\n    );\n\n    if (!paths.length) {\n      throw new UnexpectedError(\n        `Failed to locate Info.plist files relative to path \"${projectRoot}\".`\n      );\n    }\n    return paths;\n  };\n\nexport const getInfoPlistPath =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string => {\n    const [using, ...extra] = getAllInfoPlistPaths(applePlatform)(projectRoot);\n\n    if (extra.length) {\n      warnMultipleFiles({\n        applePlatform,\n        tag: 'info-plist',\n        fileName: 'Info.plist',\n        projectRoot,\n        using,\n        extra,\n      });\n    }\n\n    return using;\n  };\n\nexport const getAllEntitlementsPaths =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string[] => {\n    const applePlatformDir = applePlatform;\n    const paths = globSync(`${applePlatformDir}/*/*.entitlements`, {\n      absolute: true,\n      cwd: projectRoot,\n      ignore: ignoredPaths,\n    });\n    return paths;\n  };\n\n/**\n * @deprecated: use Entitlements.getEntitlementsPath instead\n */\nexport const getEntitlementsPath =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string | null => {\n    return Entitlements.getEntitlementsPath(applePlatform)(projectRoot);\n  };\n\nexport const getSupportingPath =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string => {\n    const applePlatformDir = applePlatform;\n    return path.resolve(\n      projectRoot,\n      applePlatformDir,\n      path.basename(getSourceRoot(applePlatform)(projectRoot)),\n      'Supporting'\n    );\n  };\n\nexport const getExpoPlistPath =\n  (applePlatform: 'ios' | 'macos') =>\n  (projectRoot: string): string => {\n    const supportingPath = getSupportingPath(applePlatform)(projectRoot);\n    return path.join(supportingPath, 'Expo.plist');\n  };\n\nfunction warnMultipleFiles({\n  applePlatform,\n  tag,\n  fileName,\n  projectRoot,\n  using,\n  extra,\n}: {\n  applePlatform: 'ios' | 'macos';\n  tag: string;\n  fileName: string;\n  projectRoot?: string;\n  using: string;\n  extra: string[];\n}) {\n  const usingPath = projectRoot ? path.relative(projectRoot, using) : using;\n  const extraPaths = projectRoot ? extra.map((v) => path.relative(projectRoot, v)) : extra;\n  addWarningForPlatform(\n    applePlatform,\n    `paths-${tag}`,\n    `Found multiple ${fileName} file paths, using \"${usingPath}\". Ignored paths: ${JSON.stringify(\n      extraPaths\n    )}`\n  );\n}\n"],"mappings":"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"}