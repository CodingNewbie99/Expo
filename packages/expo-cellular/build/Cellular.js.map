{"version":3,"file":"Cellular.js","sourceRoot":"","sources":["../src/Cellular.ts"],"names":[],"mappings":"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","sourcesContent":["import { UnavailabilityError } from '@unimodules/core';\nimport { Platform } from '@unimodules/react-native-adapter';\nimport { PermissionResponse, PermissionStatus } from 'expo-modules-core';\n\nimport { CellularGeneration, CellularInfo } from './Cellular.types';\nimport ExpoCellular from './ExpoCellular';\n\nexport { CellularGeneration };\n\n// @needsAudit\n/**\n * @deprecated use `getCurrentCarrierAsync()` instead\n *\n *\n * Indicates if the carrier allows making VoIP calls on its network. On Android, this checks whether\n * the system supports SIP-based VoIP API. See [here](https://developer.android.com/reference/android/net/sip/SipManager.html#isVoipSupported(android.content.Context))\n * to view more information.\n *\n * On iOS, if you configure a device for a carrier and then remove the SIM card, this property\n * retains the `boolean` value indicating the carrier’s policy regarding VoIP. If you then install\n * a new SIM card, its VoIP policy `boolean` replaces the previous value of this property.\n *\n * On web, this returns `null`.\n *\n * # Examples\n * ```ts\n * Cellular.allowsVoip; // true or false\n * ```\n */\nexport const allowsVoip: boolean | null = ExpoCellular ? ExpoCellular.allowsVoip : null;\n\n// @needsAudit\n/**\n * @deprecated use `getCurrentCarrierAsync()` instead\n *\n *\n * The name of the user’s home cellular service provider. If the device has dual SIM cards, only the\n * carrier for the currently active SIM card will be returned. On Android, this value is only\n * available when the SIM state is [`SIM_STATE_READY`](https://developer.android.com/reference/android/telephony/TelephonyManager.html#SIM_STATE_READY).\n * Otherwise, this returns `null`.\n *\n * On iOS, if you configure a device for a carrier and then remove the SIM card, this property\n * retains the name of the carrier. If you then install a new SIM card, its carrier name replaces\n * the previous value of this property. The value for this property is `null` if the user never\n * configured a carrier for the device.\n *\n * On web, this returns `null`.\n *\n * # Examples\n * ```ts\n * Cellular.carrier; // \"T-Mobile\" or \"Verizon\"\n * ```\n */\nexport const carrier: string | null = ExpoCellular ? ExpoCellular.carrier : null;\n\n// @needsAudit\n/**\n * @deprecated use `getCurrentCarrierAsync()` instead\n *\n *\n * The ISO country code for the user’s cellular service provider. On iOS, the value is `null` if any\n * of the following apply:\n * - The device is in airplane mode.\n * - There is no SIM card in the device.\n * - The device is outside of cellular service range.\n *\n * On web, this returns `null`.\n *\n * # Examples\n * ```ts\n * Cellular.isoCountryCode; // \"us\" or \"au\"\n * ```\n *\n */\nexport const isoCountryCode: string | null = ExpoCellular ? ExpoCellular.isoCountryCode : null;\n\n// @needsAudit\n/**\n * @deprecated use `getCurrentCarrierAsync()` instead\n *\n *\n * The mobile country code (MCC) for the user’s current registered cellular service provider.\n * On Android, this value is only available when SIM state is [`SIM_STATE_READY`](https://developer.android.com/reference/android/telephony/TelephonyManager.html#SIM_STATE_READY). Otherwise, this\n * returns `null`. On iOS, the value may be null on hardware prior to iPhone 4S when in airplane mode.\n * Furthermore, the value for this property is `null` if any of the following apply:\n * - There is no SIM card in the device.\n * - The device is outside of cellular service range.\n *\n * On web, this returns `null`.\n *\n * # Examples\n * ```ts\n * Cellular.mobileCountryCode; // \"310\"\n * ```\n */\nexport const mobileCountryCode: string | null = ExpoCellular\n  ? ExpoCellular.mobileCountryCode\n  : null;\n\n// @needsAudit\n/**\n * @deprecated field, use `getCurrentCarrierAsync()` instead\n *\n *\n * The ISO country code for the user’s cellular service provider. On iOS, the value is `null` if\n * any of the following apply:\n * - The device is in airplane mode.\n * - There is no SIM card in the device.\n * - The device is outside of cellular service range.\n *\n * On web, this returns `null`.\n *\n * # Examples\n * ```ts\n * Cellular.mobileNetworkCode; // \"260\"\n * ```\n */\nexport const mobileNetworkCode: string | null = ExpoCellular\n  ? ExpoCellular.mobileNetworkCode\n  : null;\n\n// TODO add docs\nexport async function requestPhoneStatePermissionsAsync(): Promise<PermissionResponse> {\n  if (Platform.OS === 'android') {\n    if (!ExpoCellular.requestPhoneStatePermissionsAsync) {\n      throw new UnavailabilityError('expo-cellular', 'getCellularGenerationAsync');\n    }\n    return ExpoCellular.requestPhoneStatePermissionsAsync();\n  } else {\n    return {\n      canAskAgain: true,\n      expires: 'never',\n      granted: true,\n      status: PermissionStatus.GRANTED,\n    };\n  }\n}\n\n// TODO add docs\nexport async function getPhoneStatePermissionsAsync(): Promise<PermissionResponse> {\n  if (Platform.OS === 'android') {\n    if (!ExpoCellular.getPhoneStatePermissionsAsync) {\n      throw new UnavailabilityError('expo-cellular', 'getCellularGenerationAsync');\n    }\n    return ExpoCellular.requestPhoneStatePermissionsAsync();\n  } else {\n    return {\n      canAskAgain: true,\n      expires: 'never',\n      granted: true,\n      status: PermissionStatus.GRANTED,\n    };\n  }\n}\n\n// @needsAudit\n/**\n * @return Returns a promise which fulfils with a [`Cellular.CellularGeneration`](#cellulargeneration)\n * enum value that represents the current cellular-generation type.\n *\n * On web, this method uses [`navigator.connection.effectiveType`](https://developer.mozilla.org/en-US/docs/Web/API/NetworkInformation/effectiveType)\n * to detect the effective type of the connection using a combination of recently observed\n * round-trip time and downlink values. See [here](https://developer.mozilla.org/en-US/docs/Web/API/Network_Information_API)\n * to view browser compatibility.\n *\n * # Example\n * ```ts\n * await Cellular.getCellularGenerationAsync();\n * // CellularGeneration.CELLULAR_4G\n * ```\n */\nexport async function getCellularGenerationAsync(): Promise<CellularGeneration> {\n  if (!ExpoCellular.getCellularGenerationAsync) {\n    throw new UnavailabilityError('expo-cellular', 'getCellularGenerationAsync');\n  }\n  return await ExpoCellular.getCellularGenerationAsync();\n}\n\n// TODO add docs\n/**\n * @return Returns a promise which fulfils with a [`Cellular.CellularInfo`](#cellularinfo)\n * object that contains all cellular information.\n */\nexport async function getCurrentCarrierAsync(): Promise<CellularInfo> {\n  if (!ExpoCellular.getCurrentCarrierAsync) {\n    throw new UnavailabilityError('expo-cellular', 'getCurrentCarrierAsync');\n  }\n  return await ExpoCellular.getCurrentCarrierAsync();\n}\n"]}