{"version":3,"file":"prompts.js","sourceRoot":"","sources":["../src/prompts.ts"],"names":[],"mappings":"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","sourcesContent":["import path from 'path';\nimport { Answers, PromptObject } from 'prompts';\nimport validateNpmPackage from 'validate-npm-package-name';\n\nimport { findGitHubEmail, findGitHubProfileUrl, findMyName, guessRepoUrl } from './utils';\n\nexport default async function getPrompts(targetDir: string): Promise<PromptObject<string>[]> {\n  const targetBasename = path.basename(targetDir);\n\n  return [\n    {\n      type: 'text',\n      name: 'slug',\n      message: 'What is the name of the npm package?',\n      initial: validateNpmPackage(targetBasename).validForNewPackages ? targetBasename : undefined,\n      validate: (input) =>\n        validateNpmPackage(input).validForNewPackages || 'Must be a valid npm package name',\n    },\n    {\n      type: 'text',\n      name: 'name',\n      message: 'What is the native module name?',\n      initial: (_, answers: Answers<string>) => {\n        return answers.slug\n          .replace(/^@/, '')\n          .replace(/^./, (match) => match.toUpperCase())\n          .replace(/\\W+(\\w)/g, (_, p1) => p1.toUpperCase());\n      },\n      validate: (input) => !!input || 'The native module name cannot be empty',\n    },\n    {\n      type: 'text',\n      name: 'description',\n      message: 'How would you describe the module?',\n      initial: 'My new module',\n      validate: (input) => !!input || 'The description cannot be empty',\n    },\n    {\n      type: 'text',\n      name: 'package',\n      message: 'What is the Android package name?',\n      initial: (_, answers: Answers<string>) => {\n        const namespace = answers.slug\n          .replace(/\\W/g, '')\n          .replace(/^(expo|reactnative)/, '')\n          .toLowerCase();\n        return `expo.modules.${namespace}`;\n      },\n      validate: (input) => !!input || 'The Android package name cannot be empty',\n    },\n    {\n      type: 'text',\n      name: 'authorName',\n      message: 'What is the name of the package author?',\n      initial: await findMyName(),\n      validate: (input) => !!input || 'Cannot be empty',\n    },\n    {\n      type: 'text',\n      name: 'authorEmail',\n      message: 'What is the email address of the author?',\n      initial: await findGitHubEmail(),\n    },\n    {\n      type: 'text',\n      name: 'authorUrl',\n      message: \"What is the URL to the author's GitHub profile?\",\n      initial: async (_, answers: Answers<string>) =>\n        await findGitHubProfileUrl(answers.authorEmail),\n    },\n    {\n      type: 'text',\n      name: 'repo',\n      message: 'What is the URL for the repository?',\n      initial: async (_, answers: Answers<string>) =>\n        await guessRepoUrl(answers.authorUrl, answers.slug),\n      validate: (input) => /^https?:\\/\\//.test(input) || 'Must be a valid URL',\n    },\n  ];\n}\n"]}