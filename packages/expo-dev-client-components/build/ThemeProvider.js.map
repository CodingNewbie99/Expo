{"version":3,"file":"ThemeProvider.js","sourceRoot":"","sources":["../src/ThemeProvider.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAI/B,MAAM,YAAY,GAAG,KAAK,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;AAO1D,MAAM,UAAU,uBAAuB,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAsB;IAC7E,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE;QACnB,gBAAgB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IAEZ,OAAO,oBAAC,YAAY,CAAC,QAAQ,IAAC,KAAK,EAAE,KAAK,IAAG,QAAQ,CAAyB,CAAC;AACjF,CAAC;AAID,SAAS,0BAA0B;IACjC,MAAM,SAAS,GAAoC,EAAE,CAAC;IAEtD,IAAI,iBAAiB,GAAoB,eAAe,CAAC;IAEzD,SAAS,iBAAiB,CAAC,QAAuC;QAChE,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC3B,CAAC;IAED,SAAS,MAAM,CAAC,aAA8B;QAC5C,iBAAiB,GAAG,aAAa,CAAC;QAClC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;IACjD,CAAC;IAED,SAAS,aAAa;QACpB,OAAO,iBAAiB,CAAC;IAC3B,CAAC;IAED,OAAO;QACL,aAAa;QACb,iBAAiB;QACjB,MAAM;KACP,CAAC;AACJ,CAAC;AAED,MAAM,CAAC,MAAM,gBAAgB,GAAG,0BAA0B,EAAE,CAAC","sourcesContent":["import * as React from 'react';\n\nexport type ThemePreference = 'no-preference' | 'light' | 'dark';\n\nconst ThemeContext = React.createContext('no-preference');\n\ntype ThemeProviderProps = {\n  children: React.ReactNode;\n  theme: ThemePreference;\n};\n\nexport function ThemePreferenceProvider({ children, theme }: ThemeProviderProps) {\n  React.useEffect(() => {\n    ThemePreferences.notify(theme);\n  }, [theme]);\n\n  return <ThemeContext.Provider value={theme}>{children}</ThemeContext.Provider>;\n}\n\ntype ThemePreferenceChangeListener = (preference: ThemePreference) => void;\n\nfunction createThemePreferenceStore() {\n  const listeners: ThemePreferenceChangeListener[] = [];\n\n  let currentPreference: ThemePreference = 'no-preference';\n\n  function addChangeListener(listener: ThemePreferenceChangeListener) {\n    listeners.push(listener);\n  }\n\n  function notify(newPreference: ThemePreference) {\n    currentPreference = newPreference;\n    listeners.forEach((l) => l(currentPreference));\n  }\n\n  function getPreference() {\n    return currentPreference;\n  }\n\n  return {\n    getPreference,\n    addChangeListener,\n    notify,\n  };\n}\n\nexport const ThemePreferences = createThemePreferenceStore();\n"]}