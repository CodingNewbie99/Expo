{"version":3,"file":"props.js","sourceRoot":"","sources":["../../src/utils/props.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,kBAAkB,CAAC;AAU5C,OAAO,aAAa,MAAM,0BAA0B,CAAC;AAErD,2EAA2E;AAC3E,MAAM,CAAC,MAAM,gBAAgB,GAKzB;IACF,IAAI,EAAE,aAAa,CAAC,IAAI;IACxB,SAAS,EAAE,aAAa,CAAC,SAAS;IAClC,SAAS,EAAE,aAAa,CAAC,SAAS;IAClC,YAAY,EAAE,aAAa,CAAC,YAAY;CACzC,CAAC;AAEF,MAAM,UAAU,kBAAkB,CAAC,KAAmB;IACpD,IAAI,CAAC,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QACvC,OAAO,EAAE,CAAC;KACX;IAED,MAAM,WAAW,GAAsB,EAAE,CAAC;IAE1C,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;QAChD,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,gBAAgB,CAAC,GAAG,CAAC,EAAE;YACtD,WAAW,CAAC,GAAG,CAAC,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;SACjD;aAAM;YACL,WAAW,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;SAC1B;KACF;IAED,OAAO,WAAW,CAAC;AACrB,CAAC;AAED,MAAM,UAAU,iBAAiB,CAAC,KAAmB;IACnD,MAAM,QAAQ,GAAG,kBAAkB,CAAC,KAAK,CAAC,CAAC;IAE3C,IAAI,QAAQ,CAAC,gBAAgB,EAAE;QAC7B,QAAQ,CAAC,qBAAqB,GAAG,IAAI,CAAC;KACvC;IAED,IAAI,QAAQ,CAAC,eAAe,EAAE;QAC5B,QAAQ,CAAC,mBAAmB,GAAG,IAAI,CAAC;KACrC;IAED,IAAI,QAAQ,CAAC,EAAE,KAAK,SAAS,EAAE;QAC7B,OAAO,QAAQ,CAAC,KAAK,CAAC;QACtB,OAAO,QAAQ,CAAC,aAAa,CAAC;KAC/B;IAED,IAAI,QAAQ,CAAC,EAAE,KAAK,KAAK,EAAE;QACzB,OAAO,QAAQ,CAAC,MAAM,CAAC;KACxB;IAED,OAAO,QAAQ,CAAC;AAClB,CAAC","sourcesContent":["import { Platform } from '@unimodules/core';\r\n\r\nimport {\r\n  CameraNativeProps,\r\n  CameraType,\r\n  FlashMode,\r\n  AutoFocus,\r\n  WhiteBalance,\r\n  CameraProps,\r\n} from '../Camera.types';\r\nimport CameraManager from '../ExponentCameraManager';\r\n\r\n// Values under keys from this object will be transformed to native options\r\nexport const ConversionTables: {\r\n  type: Record<keyof typeof CameraType, CameraNativeProps['type']>;\r\n  flashMode: Record<keyof typeof FlashMode, CameraNativeProps['flashMode']>;\r\n  autoFocus: Record<keyof typeof AutoFocus, CameraNativeProps['autoFocus']>;\r\n  whiteBalance: Record<keyof typeof WhiteBalance, CameraNativeProps['whiteBalance']>;\r\n} = {\r\n  type: CameraManager.Type,\r\n  flashMode: CameraManager.FlashMode,\r\n  autoFocus: CameraManager.AutoFocus,\r\n  whiteBalance: CameraManager.WhiteBalance,\r\n};\r\n\r\nexport function convertNativeProps(props?: CameraProps): CameraNativeProps {\r\n  if (!props || typeof props !== 'object') {\r\n    return {};\r\n  }\r\n\r\n  const nativeProps: CameraNativeProps = {};\r\n\r\n  for (const [key, value] of Object.entries(props)) {\r\n    if (typeof value === 'string' && ConversionTables[key]) {\r\n      nativeProps[key] = ConversionTables[key][value];\r\n    } else {\r\n      nativeProps[key] = value;\r\n    }\r\n  }\r\n\r\n  return nativeProps;\r\n}\r\n\r\nexport function ensureNativeProps(props?: CameraProps): CameraNativeProps {\r\n  const newProps = convertNativeProps(props);\r\n\r\n  if (newProps.onBarCodeScanned) {\r\n    newProps.barCodeScannerEnabled = true;\r\n  }\r\n\r\n  if (newProps.onFacesDetected) {\r\n    newProps.faceDetectorEnabled = true;\r\n  }\r\n\r\n  if (Platform.OS !== 'android') {\r\n    delete newProps.ratio;\r\n    delete newProps.useCamera2Api;\r\n  }\r\n\r\n  if (Platform.OS !== 'web') {\r\n    delete newProps.poster;\r\n  }\r\n\r\n  return newProps;\r\n}\r\n"]}